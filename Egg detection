local ReplicatedStorage = game:GetService("ReplicatedStorage")
local ServerStorage = game:GetService("ServerStorage")
local SpawnPetEvent = ReplicatedStorage:WaitForChild("SpawnPetEvent")
local petTemplates = ServerStorage:WaitForChild("PetTemplates")

SpawnPetEvent.OnServerEvent:Connect(function(player, petName, val1, val2)
    local template = petTemplates:FindFirstChild(petName)
    if template then
        local newPet = template:Clone()
        newPet.Parent = workspace
        newPet:SetPrimaryPartCFrame(player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -5))
        newPet:SetAttribute("Value1", val1 or 0)
        newPet:SetAttribute("Value2", val2 or 0)
    end
end)
